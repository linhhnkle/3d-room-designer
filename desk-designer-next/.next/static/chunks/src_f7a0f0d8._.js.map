{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/stores/useStore.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { Object3D, Vector3 } from 'three'\n\ninterface ObjectData {\n  id: string\n  object: Object3D\n  type: string\n  position: Vector3\n  scale: Vector3\n  rotation: number\n}\n\ninterface StoreState {\n  // Scene state\n  objects: ObjectData[]\n  selectedObject: ObjectData | null\n  hoveredObject: ObjectData | null\n  surfaces: Object3D[]\n  \n  // UI state\n  isColorPanelOpen: boolean\n  isTexturePanelOpen: boolean\n  isFurnitureMenuOpen: boolean\n  isObjectColorPanelOpen: boolean\n  currentSection: string\n  \n  // Camera state\n  cameraPosition: Vector3\n  cameraRotation: number\n  \n  // Performance state\n  renderRequested: boolean\n  frameRate: number\n  \n  // Actions\n  addObject: (object: ObjectData) => void\n  removeObject: (id: string) => void\n  selectObject: (object: ObjectData | null) => void\n  updateObject: (id: string, updates: Partial<ObjectData>) => void\n  \n  // UI actions\n  toggleColorPanel: () => void\n  toggleTexturePanel: () => void\n  toggleFurnitureMenu: () => void\n  toggleObjectColorPanel: () => void\n  setCurrentSection: (section: string) => void\n  \n  // Performance actions\n  requestRender: () => void\n  setFrameRate: (fps: number) => void\n}\n\nexport const useStore = create<StoreState>((set, get) => ({\n  // Initial state\n  objects: [],\n  selectedObject: null,\n  hoveredObject: null,\n  surfaces: [],\n  \n  isColorPanelOpen: false,\n  isTexturePanelOpen: false,\n  isFurnitureMenuOpen: false,\n  isObjectColorPanelOpen: false,\n  currentSection: 'main',\n  \n  cameraPosition: new Vector3(12, 8, 12),\n  cameraRotation: 0,\n  \n  renderRequested: false,\n  frameRate: 60,\n  \n  // Actions\n  addObject: (object) => \n    set((state) => ({ \n      objects: [...state.objects, object],\n      renderRequested: true\n    })),\n    \n  removeObject: (id) =>\n    set((state) => ({\n      objects: state.objects.filter(obj => obj.id !== id),\n      selectedObject: state.selectedObject?.id === id ? null : state.selectedObject,\n      renderRequested: true\n    })),\n    \n  selectObject: (object) =>\n    set(() => ({\n      selectedObject: object,\n      renderRequested: true\n    })),\n    \n  updateObject: (id, updates) =>\n    set((state) => ({\n      objects: state.objects.map(obj => \n        obj.id === id ? { ...obj, ...updates } : obj\n      ),\n      renderRequested: true\n    })),\n    \n  // UI actions\n  toggleColorPanel: () => \n    set((state) => ({ \n      isColorPanelOpen: !state.isColorPanelOpen,\n      isTexturePanelOpen: false,\n      isFurnitureMenuOpen: false\n    })),\n    \n  toggleTexturePanel: () => \n    set((state) => ({ \n      isTexturePanelOpen: !state.isTexturePanelOpen,\n      isColorPanelOpen: false,\n      isFurnitureMenuOpen: false\n    })),\n    \n  toggleFurnitureMenu: () => \n    set((state) => ({ \n      isFurnitureMenuOpen: !state.isFurnitureMenuOpen,\n      isColorPanelOpen: false,\n      isTexturePanelOpen: false\n    })),\n    \n  toggleObjectColorPanel: () => \n    set((state) => ({ \n      isObjectColorPanelOpen: !state.isObjectColorPanelOpen\n    })),\n    \n  setCurrentSection: (section) =>\n    set(() => ({ currentSection: section })),\n    \n  // Performance actions\n  requestRender: () =>\n    set(() => ({ renderRequested: true })),\n    \n  setFrameRate: (fps) =>\n    set(() => ({ frameRate: fps })),\n}))"],"names":[],"mappings":";;;;AAAA;AACA;;;AAmDO,MAAM,WAAW,IAAA,qJAAM,EAAa,CAAC,KAAK,MAAQ,CAAC;QACxD,gBAAgB;QAChB,SAAS,EAAE;QACX,gBAAgB;QAChB,eAAe;QACf,UAAU,EAAE;QAEZ,kBAAkB;QAClB,oBAAoB;QACpB,qBAAqB;QACrB,wBAAwB;QACxB,gBAAgB;QAEhB,gBAAgB,IAAI,6JAAO,CAAC,IAAI,GAAG;QACnC,gBAAgB;QAEhB,iBAAiB;QACjB,WAAW;QAEX,UAAU;QACV,WAAW,CAAC,SACV,IAAI,CAAC,QAAU,CAAC;oBACd,SAAS;2BAAI,MAAM,OAAO;wBAAE;qBAAO;oBACnC,iBAAiB;gBACnB,CAAC;QAEH,cAAc,CAAC,KACb,IAAI,CAAC;oBAEa;uBAFF;oBACd,SAAS,MAAM,OAAO,CAAC,MAAM,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;oBAChD,gBAAgB,EAAA,wBAAA,MAAM,cAAc,cAApB,4CAAA,sBAAsB,EAAE,MAAK,KAAK,OAAO,MAAM,cAAc;oBAC7E,iBAAiB;gBACnB;;QAEF,cAAc,CAAC,SACb,IAAI,IAAM,CAAC;oBACT,gBAAgB;oBAChB,iBAAiB;gBACnB,CAAC;QAEH,cAAc,CAAC,IAAI,UACjB,IAAI,CAAC,QAAU,CAAC;oBACd,SAAS,MAAM,OAAO,CAAC,GAAG,CAAC,CAAA,MACzB,IAAI,EAAE,KAAK,KAAK;4BAAE,GAAG,GAAG;4BAAE,GAAG,OAAO;wBAAC,IAAI;oBAE3C,iBAAiB;gBACnB,CAAC;QAEH,aAAa;QACb,kBAAkB,IAChB,IAAI,CAAC,QAAU,CAAC;oBACd,kBAAkB,CAAC,MAAM,gBAAgB;oBACzC,oBAAoB;oBACpB,qBAAqB;gBACvB,CAAC;QAEH,oBAAoB,IAClB,IAAI,CAAC,QAAU,CAAC;oBACd,oBAAoB,CAAC,MAAM,kBAAkB;oBAC7C,kBAAkB;oBAClB,qBAAqB;gBACvB,CAAC;QAEH,qBAAqB,IACnB,IAAI,CAAC,QAAU,CAAC;oBACd,qBAAqB,CAAC,MAAM,mBAAmB;oBAC/C,kBAAkB;oBAClB,oBAAoB;gBACtB,CAAC;QAEH,wBAAwB,IACtB,IAAI,CAAC,QAAU,CAAC;oBACd,wBAAwB,CAAC,MAAM,sBAAsB;gBACvD,CAAC;QAEH,mBAAmB,CAAC,UAClB,IAAI,IAAM,CAAC;oBAAE,gBAAgB;gBAAQ,CAAC;QAExC,sBAAsB;QACtB,eAAe,IACb,IAAI,IAAM,CAAC;oBAAE,iBAAiB;gBAAK,CAAC;QAEtC,cAAc,CAAC,MACb,IAAI,IAAM,CAAC;oBAAE,WAAW;gBAAI,CAAC;IACjC,CAAC","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/components/Scene/Camera.tsx"],"sourcesContent":["import { useFrame, useThree } from '@react-three/fiber'\nimport { useRef, useEffect } from 'react'\nimport { OrthographicCamera, Vector3 } from 'three'\nimport { useStore } from '@/stores/useStore'\n\ninterface CameraProps {\n  position?: [number, number, number]\n  target?: [number, number, number]\n}\n\nexport function Camera({ \n  position = [12, 8, 12], \n  target = [0, 2, 0] \n}: CameraProps) {\n  const cameraRef = useRef<OrthographicCamera>(null)\n  const { size, set } = useThree()\n  \n  const cameraPosition = useStore(state => state.cameraPosition)\n  const cameraRotation = useStore(state => state.cameraRotation)\n  const requestRender = useStore(state => state.requestRender)\n  \n  // Update orthographic camera bounds on resize\n  useEffect(() => {\n    if (cameraRef.current) {\n      const aspect = size.width / size.height\n      const frustumSize = 16\n      \n      cameraRef.current.left = (-frustumSize * aspect) / 2\n      cameraRef.current.right = (frustumSize * aspect) / 2\n      cameraRef.current.top = frustumSize / 2\n      cameraRef.current.bottom = -frustumSize / 2\n      cameraRef.current.updateProjectionMatrix()\n      \n      requestRender()\n    }\n  }, [size])\n  \n  // Set camera position and target - run once on mount\n  useEffect(() => {\n    if (cameraRef.current) {\n      cameraRef.current.position.set(...position)\n      cameraRef.current.lookAt(...target)\n      cameraRef.current.updateProjectionMatrix()\n      requestRender()\n    }\n  }, []) // Empty dependencies - only run once\n  \n  // Smooth camera rotation\n  useFrame(() => {\n    if (cameraRef.current && cameraRotation !== 0) {\n      const radius = 14\n      const x = Math.cos(cameraRotation) * radius\n      const z = Math.sin(cameraRotation) * radius\n      \n      cameraRef.current.position.set(x, 8, z)\n      cameraRef.current.lookAt(0, 2, 0)\n      cameraRef.current.updateProjectionMatrix()\n      \n      requestRender()\n    }\n  })\n  \n  return (\n    <orthographicCamera\n      ref={cameraRef}\n      makeDefault\n      position={position}\n      near={0.1}\n      far={100}\n      zoom={1}\n    />\n  )\n}\n\n// Camera control functions\nexport function useCameraControls() {\n  const cameraRotation = useStore(state => state.cameraRotation)\n  \n  const rotateLeft = () => {\n    useStore.setState(state => ({\n      cameraRotation: state.cameraRotation + Math.PI / 4\n    }))\n  }\n  \n  const rotateRight = () => {\n    useStore.setState(state => ({\n      cameraRotation: state.cameraRotation - Math.PI / 4\n    }))\n  }\n  \n  const resetCamera = () => {\n    useStore.setState({\n      cameraRotation: 0,\n      cameraPosition: new Vector3(12, 8, 12)\n    })\n  }\n  \n  return {\n    rotateLeft,\n    rotateRight,\n    resetCamera,\n    currentRotation: cameraRotation\n  }\n}"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAOO,SAAS,OAAO,KAGT;QAHS,EACrB,WAAW;QAAC;QAAI;QAAG;KAAG,EACtB,SAAS;QAAC;QAAG;QAAG;KAAE,EACN,GAHS;;IAIrB,MAAM,YAAY,IAAA,uKAAM,EAAqB;IAC7C,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,IAAA,8NAAQ;IAE9B,MAAM,iBAAiB,IAAA,wIAAQ;2CAAC,CAAA,QAAS,MAAM,cAAc;;IAC7D,MAAM,iBAAiB,IAAA,wIAAQ;2CAAC,CAAA,QAAS,MAAM,cAAc;;IAC7D,MAAM,gBAAgB,IAAA,wIAAQ;0CAAC,CAAA,QAAS,MAAM,aAAa;;IAE3D,8CAA8C;IAC9C,IAAA,0KAAS;4BAAC;YACR,IAAI,UAAU,OAAO,EAAE;gBACrB,MAAM,SAAS,KAAK,KAAK,GAAG,KAAK,MAAM;gBACvC,MAAM,cAAc;gBAEpB,UAAU,OAAO,CAAC,IAAI,GAAG,AAAC,CAAC,cAAc,SAAU;gBACnD,UAAU,OAAO,CAAC,KAAK,GAAG,AAAC,cAAc,SAAU;gBACnD,UAAU,OAAO,CAAC,GAAG,GAAG,cAAc;gBACtC,UAAU,OAAO,CAAC,MAAM,GAAG,CAAC,cAAc;gBAC1C,UAAU,OAAO,CAAC,sBAAsB;gBAExC;YACF;QACF;2BAAG;QAAC;KAAK;IAET,qDAAqD;IACrD,IAAA,0KAAS;4BAAC;YACR,IAAI,UAAU,OAAO,EAAE;gBACrB,UAAU,OAAO,CAAC,QAAQ,CAAC,GAAG,IAAI;gBAClC,UAAU,OAAO,CAAC,MAAM,IAAI;gBAC5B,UAAU,OAAO,CAAC,sBAAsB;gBACxC;YACF;QACF;2BAAG,EAAE,GAAE,qCAAqC;IAE5C,yBAAyB;IACzB,IAAA,8NAAQ;2BAAC;YACP,IAAI,UAAU,OAAO,IAAI,mBAAmB,GAAG;gBAC7C,MAAM,SAAS;gBACf,MAAM,IAAI,KAAK,GAAG,CAAC,kBAAkB;gBACrC,MAAM,IAAI,KAAK,GAAG,CAAC,kBAAkB;gBAErC,UAAU,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG;gBACrC,UAAU,OAAO,CAAC,MAAM,CAAC,GAAG,GAAG;gBAC/B,UAAU,OAAO,CAAC,sBAAsB;gBAExC;YACF;QACF;;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,WAAW;QACX,UAAU;QACV,MAAM;QACN,KAAK;QACL,MAAM;;;;;;AAGZ;GA9DgB;;QAKQ,8NAAQ;QAEP,wIAAQ;QACR,wIAAQ;QACT,wIAAQ;QA6B9B,8NAAQ;;;KAtCM;AAiET,SAAS;;IACd,MAAM,iBAAiB,IAAA,wIAAQ;sDAAC,CAAA,QAAS,MAAM,cAAc;;IAE7D,MAAM,aAAa;QACjB,wIAAQ,CAAC,QAAQ,CAAC,CAAA,QAAS,CAAC;gBAC1B,gBAAgB,MAAM,cAAc,GAAG,KAAK,EAAE,GAAG;YACnD,CAAC;IACH;IAEA,MAAM,cAAc;QAClB,wIAAQ,CAAC,QAAQ,CAAC,CAAA,QAAS,CAAC;gBAC1B,gBAAgB,MAAM,cAAc,GAAG,KAAK,EAAE,GAAG;YACnD,CAAC;IACH;IAEA,MAAM,cAAc;QAClB,wIAAQ,CAAC,QAAQ,CAAC;YAChB,gBAAgB;YAChB,gBAAgB,IAAI,6JAAO,CAAC,IAAI,GAAG;QACrC;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA,iBAAiB;IACnB;AACF;IA5BgB;;QACS,wIAAQ","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/components/UI/Controls.tsx"],"sourcesContent":["'use client'\n\nimport { useCameraControls } from '../Scene/Camera'\nimport { useStore } from '@/stores/useStore'\n\nexport function Controls() {\n  const { rotateLeft } = useCameraControls()\n  const toggleColorPanel = useStore(state => state.toggleColorPanel)\n  const toggleTexturePanel = useStore(state => state.toggleTexturePanel)\n  const toggleFurnitureMenu = useStore(state => state.toggleFurnitureMenu)\n  \n  // Reset scene function\n  const resetScene = () => {\n    // Clear all objects except room\n    useStore.setState(state => ({\n      objects: [],\n      selectedObject: null,\n      hoveredObject: null,\n      renderRequested: true\n    }))\n  }\n  \n  // Toggle time of day (placeholder)\n  const toggleTimeOfDay = () => {\n    // Implementation will be added\n  }\n  \n  return (\n    <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10\">\n      <div className=\"flex gap-2 bg-white/90 backdrop-blur-md p-2 rounded-xl shadow-lg\">\n        <ControlButton \n          onClick={rotateLeft}\n          title=\"Rotate Left\"\n          icon=\"↶\"\n        />\n        <ControlButton \n          onClick={toggleColorPanel}\n          title=\"Change Colors\"\n          icon=\"🎨\"\n        />\n        <ControlButton \n          onClick={toggleTexturePanel}\n          title=\"Change Textures\"\n          icon=\"🪵\"\n        />\n        <ControlButton \n          onClick={toggleFurnitureMenu}\n          title=\"Add Furniture\"\n          icon=\"🛋️\"\n        />\n        <ControlButton \n          onClick={toggleTimeOfDay}\n          title=\"Time of Day\"\n          icon=\"☀️\"\n        />\n        <ControlButton \n          onClick={resetScene}\n          title=\"Reset Scene\"\n          icon=\"🔄\"\n        />\n      </div>\n    </div>\n  )\n}\n\ninterface ControlButtonProps {\n  onClick: () => void\n  title: string\n  icon: string\n  disabled?: boolean\n}\n\nfunction ControlButton({ onClick, title, icon, disabled = false }: ControlButtonProps) {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      title={title}\n      className={`\n        w-11 h-11 flex items-center justify-center\n        bg-[#f5e6d3]/80 text-[#8b6f47] text-xl\n        rounded-lg transition-all duration-200\n        hover:bg-[#f5e6d3] hover:shadow-md hover:scale-105\n        active:bg-[#f5e6d3]/90 active:scale-95\n        disabled:opacity-50 disabled:cursor-not-allowed\n        disabled:hover:scale-100 disabled:hover:shadow-none\n      `}\n    >\n      {icon}\n    </button>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS;;IACd,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,6JAAiB;IACxC,MAAM,mBAAmB,IAAA,wIAAQ;+CAAC,CAAA,QAAS,MAAM,gBAAgB;;IACjE,MAAM,qBAAqB,IAAA,wIAAQ;iDAAC,CAAA,QAAS,MAAM,kBAAkB;;IACrE,MAAM,sBAAsB,IAAA,wIAAQ;kDAAC,CAAA,QAAS,MAAM,mBAAmB;;IAEvE,uBAAuB;IACvB,MAAM,aAAa;QACjB,gCAAgC;QAChC,wIAAQ,CAAC,QAAQ,CAAC,CAAA,QAAS,CAAC;gBAC1B,SAAS,EAAE;gBACX,gBAAgB;gBAChB,eAAe;gBACf,iBAAiB;YACnB,CAAC;IACH;IAEA,mCAAmC;IACnC,MAAM,kBAAkB;IACtB,+BAA+B;IACjC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;;;;;;;;;;;;AAKf;GA1DgB;;QACS,6JAAiB;QACf,wIAAQ;QACN,wIAAQ;QACP,wIAAQ;;;KAJtB;AAmEhB,SAAS,cAAc,KAA8D;QAA9D,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,KAAK,EAAsB,GAA9D;IACrB,qBACE,6LAAC;QACC,SAAS;QACT,UAAU;QACV,OAAO;QACP,WAAY;kBAUX;;;;;;AAGP;MAnBS","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/components/UI/Toolbar.tsx"],"sourcesContent":["'use client'\n\nimport { Vector3 } from 'three'\nimport { useStore } from '@/stores/useStore'\n\nexport function Toolbar() {\n  const selectedObject = useStore(state => state.selectedObject)\n  const updateObject = useStore(state => state.updateObject)\n  const removeObject = useStore(state => state.removeObject)\n  const toggleObjectColorPanel = useStore(state => state.toggleObjectColorPanel)\n  \n  if (!selectedObject) {\n    return null\n  }\n  \n  // Toolbar actions\n  const scaleUp = () => {\n    const currentScale = selectedObject.scale.x\n    const newScale = Math.min(currentScale * 1.1, 8)\n    const newScaleVector = new Vector3(newScale, newScale, newScale)\n    \n    updateObject(selectedObject.id, { scale: newScaleVector })\n  }\n  \n  const scaleDown = () => {\n    const currentScale = selectedObject.scale.x\n    const newScale = Math.max(currentScale * 0.9, 0.2)\n    const newScaleVector = new Vector3(newScale, newScale, newScale)\n    \n    updateObject(selectedObject.id, { scale: newScaleVector })\n  }\n  \n  const rotateObject = () => {\n    const newRotation = selectedObject.rotation + Math.PI / 4\n    updateObject(selectedObject.id, { rotation: newRotation })\n  }\n  \n  const duplicateObject = () => {\n    // Create duplicate with slight offset\n    const newPosition = selectedObject.position.clone()\n    newPosition.x += 2\n    \n    const duplicateData = {\n      ...selectedObject,\n      id: `${selectedObject.type}-${Date.now()}`,\n      position: newPosition\n    }\n    \n    useStore.getState().addObject(duplicateData)\n  }\n  \n  const deleteObject = () => {\n    removeObject(selectedObject.id)\n  }\n  \n  return (\n    <div className=\"fixed bottom-20 right-5 z-20 transition-all duration-200\">\n      <div className=\"flex gap-1 bg-white/95 backdrop-blur-md p-1 rounded-lg shadow-lg\">\n        <ToolbarButton\n          onClick={scaleDown}\n          title=\"Scale Down\"\n          icon=\"➖\"\n        />\n        <ToolbarButton\n          onClick={scaleUp}\n          title=\"Scale Up\"\n          icon=\"➕\"\n        />\n        <ToolbarButton\n          onClick={duplicateObject}\n          title=\"Duplicate\"\n          icon=\"📋\"\n        />\n        <ToolbarButton\n          onClick={toggleObjectColorPanel}\n          title=\"Change Colors\"\n          icon=\"🎨\"\n        />\n        <ToolbarButton\n          onClick={rotateObject}\n          title=\"Rotate 45°\"\n          icon=\"🔄\"\n        />\n        <ToolbarButton\n          onClick={deleteObject}\n          title=\"Delete\"\n          icon=\"🗑️\"\n          variant=\"danger\"\n        />\n      </div>\n    </div>\n  )\n}\n\ninterface ToolbarButtonProps {\n  onClick: () => void\n  title: string\n  icon: string\n  variant?: 'default' | 'danger'\n}\n\nfunction ToolbarButton({ onClick, title, icon, variant = 'default' }: ToolbarButtonProps) {\n  const baseClasses = `\n    w-8 h-8 flex items-center justify-center text-sm\n    rounded-md transition-all duration-150\n    hover:scale-105 active:scale-95\n  `\n  \n  const variantClasses = variant === 'danger' \n    ? 'bg-red-100 text-red-600 hover:bg-red-200'\n    : 'bg-[#f5e6d3]/80 text-[#8b6f47] hover:bg-[#f5e6d3]'\n  \n  return (\n    <button\n      onClick={onClick}\n      title={title}\n      className={`${baseClasses} ${variantClasses}`}\n    >\n      {icon}\n    </button>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS;;IACd,MAAM,iBAAiB,IAAA,wIAAQ;4CAAC,CAAA,QAAS,MAAM,cAAc;;IAC7D,MAAM,eAAe,IAAA,wIAAQ;0CAAC,CAAA,QAAS,MAAM,YAAY;;IACzD,MAAM,eAAe,IAAA,wIAAQ;0CAAC,CAAA,QAAS,MAAM,YAAY;;IACzD,MAAM,yBAAyB,IAAA,wIAAQ;oDAAC,CAAA,QAAS,MAAM,sBAAsB;;IAE7E,IAAI,CAAC,gBAAgB;QACnB,OAAO;IACT;IAEA,kBAAkB;IAClB,MAAM,UAAU;QACd,MAAM,eAAe,eAAe,KAAK,CAAC,CAAC;QAC3C,MAAM,WAAW,KAAK,GAAG,CAAC,eAAe,KAAK;QAC9C,MAAM,iBAAiB,IAAI,6JAAO,CAAC,UAAU,UAAU;QAEvD,aAAa,eAAe,EAAE,EAAE;YAAE,OAAO;QAAe;IAC1D;IAEA,MAAM,YAAY;QAChB,MAAM,eAAe,eAAe,KAAK,CAAC,CAAC;QAC3C,MAAM,WAAW,KAAK,GAAG,CAAC,eAAe,KAAK;QAC9C,MAAM,iBAAiB,IAAI,6JAAO,CAAC,UAAU,UAAU;QAEvD,aAAa,eAAe,EAAE,EAAE;YAAE,OAAO;QAAe;IAC1D;IAEA,MAAM,eAAe;QACnB,MAAM,cAAc,eAAe,QAAQ,GAAG,KAAK,EAAE,GAAG;QACxD,aAAa,eAAe,EAAE,EAAE;YAAE,UAAU;QAAY;IAC1D;IAEA,MAAM,kBAAkB;QACtB,sCAAsC;QACtC,MAAM,cAAc,eAAe,QAAQ,CAAC,KAAK;QACjD,YAAY,CAAC,IAAI;QAEjB,MAAM,gBAAgB;YACpB,GAAG,cAAc;YACjB,IAAI,AAAC,GAAyB,OAAvB,eAAe,IAAI,EAAC,KAAc,OAAX,KAAK,GAAG;YACtC,UAAU;QACZ;QAEA,wIAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC;IAChC;IAEA,MAAM,eAAe;QACnB,aAAa,eAAe,EAAE;IAChC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;;;;;;8BAEP,6LAAC;oBACC,SAAS;oBACT,OAAM;oBACN,MAAK;oBACL,SAAQ;;;;;;;;;;;;;;;;;AAKlB;GAvFgB;;QACS,wIAAQ;QACV,wIAAQ;QACR,wIAAQ;QACE,wIAAQ;;;KAJzB;AAgGhB,SAAS,cAAc,KAAiE;QAAjE,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,SAAS,EAAsB,GAAjE;IACrB,MAAM,cAAe;IAMrB,MAAM,iBAAiB,YAAY,WAC/B,6CACA;IAEJ,qBACE,6LAAC;QACC,SAAS;QACT,OAAO;QACP,WAAW,AAAC,GAAiB,OAAf,aAAY,KAAkB,OAAf;kBAE5B;;;;;;AAGP;MApBS","debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/components/UI/FurnitureMenu.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useMemo } from 'react'\nimport { Vector3 } from 'three'\nimport { useStore } from '@/stores/useStore'\nimport { ObjectLoader } from '../Objects/ObjectLoader'\n\n// Furniture categories and items\nconst FURNITURE_CATEGORIES = {\n  main: {\n    title: 'Categories',\n    items: [\n      { id: 'desks', name: 'Desks', icon: '🪑', emoji: '🪑' },\n      { id: 'chairs', name: 'Chairs', icon: '🪑', emoji: '🪑' },\n      { id: 'plants', name: 'Plants', icon: '🌿', emoji: '🌿' },\n      { id: 'electronics', name: 'Electronics', icon: '💻', emoji: '💻' }\n    ]\n  },\n  desks: {\n    title: 'Desks',\n    items: [\n      { id: 'desk', name: 'Office Desk', type: 'desk', thumbnail: '/Thumbnails/desk1.png' },\n      { id: 'desk2', name: 'Modern Desk', type: 'desk', thumbnail: '/Thumbnails/desk2.png' },\n      { id: 'desk3', name: 'Corner Desk', type: 'desk', thumbnail: '/Thumbnails/desk3.png' }\n    ]\n  },\n  chairs: {\n    title: 'Chairs',\n    items: [\n      { id: 'chair', name: 'Office Chair', type: 'chair', thumbnail: '/Thumbnails/chair.png' },\n      { id: 'chair2', name: 'Ergonomic Chair', type: 'chair', thumbnail: '/Thumbnails/chair2.png' }\n    ]\n  },\n  plants: {\n    title: 'Plants',\n    items: [\n      { id: 'plant', name: 'Plant', type: 'plant', thumbnail: '/Thumbnails/plant1.png' },\n      { id: 'plant2', name: 'Succulent', type: 'plant', thumbnail: '/Thumbnails/plant2.png' },\n      { id: 'plant3', name: 'Palm Tree', type: 'plant', thumbnail: '/Thumbnails/plant3.png' }\n    ]\n  },\n  electronics: {\n    title: 'Electronics',\n    items: [\n      { id: 'monitor', name: 'Monitor', type: 'monitor', thumbnail: '/Thumbnails/monitor.png' },\n      { id: 'laptop', name: 'Laptop', type: 'laptop', thumbnail: '/Thumbnails/laptop.png' }\n    ]\n  }\n}\n\nexport function FurnitureMenu() {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [isAddingObject, setIsAddingObject] = useState(false)\n  \n  const isFurnitureMenuOpen = useStore(state => state.isFurnitureMenuOpen)\n  const currentSection = useStore(state => state.currentSection)\n  const setCurrentSection = useStore(state => state.setCurrentSection)\n  const toggleFurnitureMenu = useStore(state => state.toggleFurnitureMenu)\n  const addObject = useStore(state => state.addObject)\n  \n  // Filter items based on search\n  const filteredItems = useMemo(() => {\n    if (!searchTerm || currentSection === 'main') {\n      return FURNITURE_CATEGORIES[currentSection as keyof typeof FURNITURE_CATEGORIES]?.items || []\n    }\n    \n    const items = FURNITURE_CATEGORIES[currentSection as keyof typeof FURNITURE_CATEGORIES]?.items || []\n    return items.filter(item => \n      item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      item.type?.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n  }, [searchTerm, currentSection])\n  \n  // Get spawn position for new objects\n  const getSpawnPosition = (type: string): Vector3 => {\n    const smallItems = ['monitor', 'laptop', 'plant']\n    \n    // Small items spawn on surfaces if available\n    if (smallItems.includes(type)) {\n      // For now, spawn at origin - surface detection will be added later\n      return new Vector3(0, 0, 0)\n    }\n    \n    // Large items spawn on floor\n    return new Vector3(\n      Math.random() * 6 - 3, // Random X between -3 and 3\n      0,\n      Math.random() * 6 - 3  // Random Z between -3 and 3\n    )\n  }\n  \n  // Handle object addition\n  const handleAddObject = async (type: string) => {\n    if (isAddingObject) return\n    \n    setIsAddingObject(true)\n    \n    try {\n      const position = getSpawnPosition(type)\n      \n      // Add object through ObjectLoader component\n      const objectData = {\n        id: `${type}-${Date.now()}`,\n        object: null as any, // Will be set by ObjectLoader\n        type,\n        position,\n        scale: new Vector3(1, 1, 1),\n        rotation: 0\n      }\n      \n      // The ObjectLoader component will handle the actual object creation\n      // For now, we'll trigger the object creation directly\n      // This will be replaced with a more elegant solution\n      \n    } catch (error) {\n      console.error('Error adding object:', error)\n    } finally {\n      setIsAddingObject(false)\n      toggleFurnitureMenu() // Close menu after adding\n    }\n  }\n  \n  // Handle navigation\n  const navigateToSection = (sectionId: string) => {\n    setCurrentSection(sectionId)\n    setSearchTerm('')\n  }\n  \n  const navigateBack = () => {\n    setCurrentSection('main')\n    setSearchTerm('')\n  }\n  \n  if (!isFurnitureMenuOpen) return null\n  \n  const currentCategory = FURNITURE_CATEGORIES[currentSection as keyof typeof FURNITURE_CATEGORIES]\n  \n  return (\n    <div className=\"fixed inset-0 z-30 flex items-center justify-center bg-black/20 backdrop-blur-sm\">\n      <div className=\"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl w-96 max-h-[80vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-2\">\n            {currentSection !== 'main' && (\n              <button\n                onClick={navigateBack}\n                className=\"p-1 text-[#8b6f47] hover:bg-[#f5e6d3] rounded-lg transition-colors\"\n              >\n                ←\n              </button>\n            )}\n            <h3 className=\"text-lg font-semibold text-[#8b6f47]\">\n              {currentCategory?.title || 'Furniture'}\n            </h3>\n          </div>\n          <button\n            onClick={toggleFurnitureMenu}\n            className=\"p-1 text-[#8b6f47] hover:bg-[#f5e6d3] rounded-lg transition-colors\"\n          >\n            ✕\n          </button>\n        </div>\n        \n        {/* Search */}\n        {currentSection !== 'main' && (\n          <div className=\"p-4 border-b border-gray-200\">\n            <input\n              type=\"text\"\n              placeholder=\"Search furniture...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full px-3 py-2 bg-[#f5e6d3]/30 border border-[#e8d5c4] rounded-lg text-[#8b6f47] placeholder-[#8b6f47]/60 focus:outline-none focus:ring-2 focus:ring-[#8b6f47]/30\"\n            />\n          </div>\n        )}\n        \n        {/* Content */}\n        <div className=\"p-4 max-h-96 overflow-y-auto\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            {filteredItems.map((item) => (\n              <div key={item.id}>\n                {currentSection === 'main' ? (\n                  <CategoryButton\n                    item={item}\n                    onClick={() => navigateToSection(item.id)}\n                  />\n                ) : (\n                  <FurnitureButton\n                    item={item}\n                    onClick={() => handleAddObject(item.type!)}\n                    disabled={isAddingObject}\n                  />\n                )}\n              </div>\n            ))}\n          </div>\n          \n          {filteredItems.length === 0 && searchTerm && (\n            <div className=\"text-center py-8 text-[#8b6f47]/60\">\n              No items found matching \"{searchTerm}\"\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Category button for main menu\nfunction CategoryButton({ item, onClick }: { item: any, onClick: () => void }) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"w-full p-4 bg-[#f5e6d3]/30 hover:bg-[#f5e6d3]/50 rounded-xl transition-colors group\"\n    >\n      <div className=\"flex flex-col items-center gap-2\">\n        <span className=\"text-2xl group-hover:scale-110 transition-transform\">\n          {item.emoji}\n        </span>\n        <span className=\"text-sm font-medium text-[#8b6f47]\">\n          {item.name}\n        </span>\n      </div>\n    </button>\n  )\n}\n\n// Furniture item button\nfunction FurnitureButton({ \n  item, \n  onClick, \n  disabled \n}: { \n  item: any\n  onClick: () => void\n  disabled: boolean\n}) {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className=\"w-full p-3 bg-[#f5e6d3]/30 hover:bg-[#f5e6d3]/50 rounded-xl transition-all group disabled:opacity-50 disabled:cursor-not-allowed\"\n    >\n      <div className=\"flex flex-col items-center gap-2\">\n        {item.thumbnail ? (\n          <div className=\"w-12 h-12 bg-[#e8d5c4] rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform\">\n            <img \n              src={item.thumbnail} \n              alt={item.name}\n              className=\"w-8 h-8 object-contain\"\n              onError={(e) => {\n                e.currentTarget.style.display = 'none'\n                e.currentTarget.nextElementSibling!.textContent = '📦'\n              }}\n            />\n            <span className=\"hidden text-xl\">📦</span>\n          </div>\n        ) : (\n          <div className=\"w-12 h-12 bg-[#e8d5c4] rounded-lg flex items-center justify-center text-xl group-hover:scale-105 transition-transform\">\n            📦\n          </div>\n        )}\n        <span className=\"text-xs font-medium text-[#8b6f47] text-center\">\n          {item.name}\n        </span>\n      </div>\n    </button>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1027, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/components/UI/PerformanceMonitor.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useStore } from '@/stores/useStore'\n\ninterface PerformanceData {\n  fps: number\n  objectCount: number\n  memoryUsage: {\n    used: number\n    total: number\n    limit: number\n  } | null\n  renderTime: number\n  lastFrameTime: number\n}\n\nexport function PerformanceMonitor() {\n  const [performanceData, setPerformanceData] = useState<PerformanceData>({\n    fps: 0,\n    objectCount: 0,\n    memoryUsage: null,\n    renderTime: 0,\n    lastFrameTime: 0\n  })\n  \n  const objects = useStore(state => state.objects)\n  const frameRate = useStore(state => state.frameRate)\n  \n  // Monitor performance metrics\n  useEffect(() => {\n    let frameCount = 0\n    let lastTime = performance.now()\n    let animationFrame: number\n    \n    const updateMetrics = () => {\n      const now = performance.now()\n      frameCount++\n      \n      // Update every second\n      if (now - lastTime >= 1000) {\n        const currentFPS = Math.round((frameCount * 1000) / (now - lastTime))\n        \n        // Get memory usage if available\n        let memory = null\n        if ('memory' in performance) {\n          const memInfo = (performance as any).memory\n          memory = {\n            used: Math.round(memInfo.usedJSHeapSize / 1048576), // MB\n            total: Math.round(memInfo.totalJSHeapSize / 1048576), // MB\n            limit: Math.round(memInfo.jsHeapSizeLimit / 1048576) // MB\n          }\n        }\n        \n        setPerformanceData(prev => ({\n          ...prev,\n          fps: currentFPS,\n          objectCount: objects.length,\n          memoryUsage: memory,\n          lastFrameTime: now - lastTime\n        }))\n        \n        frameCount = 0\n        lastTime = now\n      }\n      \n      animationFrame = requestAnimationFrame(updateMetrics)\n    }\n    \n    updateMetrics()\n    \n    return () => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n    }\n  }, [objects.length])\n  \n  // Performance warnings\n  const getPerformanceStatus = () => {\n    if (performanceData.fps < 30) return 'poor'\n    if (performanceData.fps < 45) return 'fair'\n    if (performanceData.fps < 55) return 'good'\n    return 'excellent'\n  }\n  \n  const status = getPerformanceStatus()\n  const statusColors = {\n    poor: 'text-red-400',\n    fair: 'text-yellow-400',\n    good: 'text-blue-400',\n    excellent: 'text-green-400'\n  }\n  \n  if (process.env.NODE_ENV !== 'development') {\n    return null\n  }\n  \n  return (\n    <div className=\"bg-black/90 text-white text-xs p-3 rounded-lg font-mono space-y-1 min-w-32\">\n      <div className=\"flex justify-between\">\n        <span>FPS:</span>\n        <span className={statusColors[status]}>\n          {performanceData.fps}\n        </span>\n      </div>\n      \n      <div className=\"flex justify-between\">\n        <span>Objects:</span>\n        <span>{performanceData.objectCount}</span>\n      </div>\n      \n      {performanceData.memoryUsage && (\n        <>\n          <div className=\"flex justify-between\">\n            <span>Memory:</span>\n            <span>{performanceData.memoryUsage.used}MB</span>\n          </div>\n          \n          <div className=\"flex justify-between\">\n            <span>Limit:</span>\n            <span>{performanceData.memoryUsage.limit}MB</span>\n          </div>\n        </>\n      )}\n      \n      <div className=\"flex justify-between\">\n        <span>Frame:</span>\n        <span>{performanceData.lastFrameTime.toFixed(1)}ms</span>\n      </div>\n      \n      {/* Performance bar */}\n      <div className=\"mt-2\">\n        <div className=\"h-1 bg-gray-700 rounded-full overflow-hidden\">\n          <div \n            className={`h-full transition-all duration-200 ${\n              status === 'excellent' ? 'bg-green-400' :\n              status === 'good' ? 'bg-blue-400' :\n              status === 'fair' ? 'bg-yellow-400' : 'bg-red-400'\n            }`}\n            style={{ width: `${Math.min(performanceData.fps / 60 * 100, 100)}%` }}\n          />\n        </div>\n        <div className=\"text-center mt-1 text-gray-400 text-[10px]\">\n          {status.toUpperCase()}\n        </div>\n      </div>\n      \n      {/* Optimization suggestions */}\n      {status === 'poor' && (\n        <div className=\"mt-2 p-1 bg-red-900/50 rounded text-[10px]\">\n          ⚠️ Low FPS detected\n          <br />\n          Try reducing objects\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Hook for performance optimization suggestions\nexport function usePerformanceOptimizations() {\n  const objects = useStore(state => state.objects)\n  const frameRate = useStore(state => state.frameRate)\n  \n  const suggestions = []\n  \n  if (frameRate < 30) {\n    suggestions.push('Consider reducing the number of objects in the scene')\n    suggestions.push('Enable LOD (Level of Detail) for distant objects')\n    suggestions.push('Reduce shadow quality or disable shadows')\n  }\n  \n  if (objects.length > 50) {\n    suggestions.push('Large number of objects detected - consider object pooling')\n  }\n  \n  if ('memory' in performance) {\n    const memInfo = (performance as any).memory\n    const usedMB = memInfo.usedJSHeapSize / 1048576\n    \n    if (usedMB > 100) {\n      suggestions.push('High memory usage detected - check for memory leaks')\n    }\n  }\n  \n  return { suggestions, frameRate, objectCount: objects.length }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1364, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Linh/Desktop/DeskDesigner/desk-designer-next/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { Suspense } from 'react'\nimport dynamic from 'next/dynamic'\nimport { Canvas3D } from '@/components/Canvas3D'\nimport { Controls } from '@/components/UI/Controls'\nimport { Toolbar } from '@/components/UI/Toolbar'\nimport { FurnitureMenu } from '@/components/UI/FurnitureMenu'\nimport { PerformanceMonitor } from '@/components/UI/PerformanceMonitor'\n\n// Dynamically import components that use browser APIs\nconst DynamicCanvas3D = dynamic(() => import('@/components/Canvas3D').then(mod => ({ default: mod.Canvas3D })), {\n  ssr: false,\n  loading: () => (\n    <div className=\"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#f5e6d3] to-[#e8d5c4]\">\n      <div className=\"text-[#8b6f47] font-medium\">Loading 3D Room Designer...</div>\n    </div>\n  )\n})\n\nexport default function Home() {\n  return (\n    <main className=\"relative w-screen h-screen overflow-hidden bg-gradient-to-br from-[#f5e6d3] to-[#e8d5c4]\">\n      {/* Instructions */}\n      <div className=\"absolute top-5 left-5 z-10\">\n        <div className=\"bg-white/90 backdrop-blur-md px-4 py-2 rounded-lg shadow-sm\">\n          <p className=\"text-sm text-[#8b6f47]\">\n            Click to select • Drag to move • Use toolbar to edit objects\n          </p>\n        </div>\n      </div>\n      \n      {/* Performance Stats (Development Only) */}\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"absolute top-5 right-5 z-10\">\n          <PerformanceMonitor />\n        </div>\n      )}\n      \n      {/* 3D Canvas */}\n      <Suspense fallback={<LoadingScreen />}>\n        <DynamicCanvas3D />\n      </Suspense>\n      \n      {/* UI Overlays */}\n      <Controls />\n      <Toolbar />\n      <FurnitureMenu />\n      \n      {/* Color Panels - Will be implemented next */}\n      {/* <ColorPanel />\n      <TexturePanel />\n      <ObjectColorPanel /> */}\n    </main>\n  )\n}\n\n// Loading screen component\nfunction LoadingScreen() {\n  return (\n    <div className=\"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#f5e6d3] to-[#e8d5c4]\">\n      <div className=\"text-center\">\n        <div className=\"text-2xl mb-4\">🏠</div>\n        <div className=\"text-[#8b6f47] font-medium mb-2\">Loading Room Designer</div>\n        <div className=\"w-32 h-1 bg-[#e8d5c4] rounded-full overflow-hidden\">\n          <div className=\"h-full bg-[#8b6f47] rounded-full animate-pulse\"></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;AAiCO;;AA/BP;AACA;AAEA;AACA;AACA;AACA;;AARA;;;;;;;;AAUA,sDAAsD;AACtD,MAAM,kBAAkB,IAAA,6KAAO,EAAC,IAAM,6HAAgC,IAAI,CAAC,CAAA,MAAO,CAAC;YAAE,SAAS,IAAI,QAAQ;QAAC,CAAC;;;;;;IAC1G,KAAK;IACL,SAAS,kBACP,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAA6B;;;;;;;;;;;;KAJ5C;AASS,SAAS;IACtB,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;;;;;YAOzC,oDAAyB,+BACxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,uKAAkB;;;;;;;;;;0BAKvB,6LAAC,yKAAQ;gBAAC,wBAAU,6LAAC;;;;;0BACnB,cAAA,6LAAC;;;;;;;;;;0BAIH,6LAAC,mJAAQ;;;;;0BACT,6LAAC,iJAAO;;;;;0BACR,6LAAC,6JAAa;;;;;;;;;;;AAQpB;MAnCwB;AAqCxB,2BAA2B;AAC3B,SAAS;IACP,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BAAgB;;;;;;8BAC/B,6LAAC;oBAAI,WAAU;8BAAkC;;;;;;8BACjD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKzB;MAZS","debugId":null}}]
}